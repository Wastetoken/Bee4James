<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Goldie The Bee</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="content-fit">
    <div class="logo">GOLDIE THE BEE</div>
    <nav>
      <ul>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </nav>
  </div>
</header>

<div class="section" id="banner">
  <div class="content-fit">
    <div class="title hero-text" data-before="">hey JaMes!</div>
  </div>
  <img src="https://pub-3ac89d8d8ece43849feac0259fe49733.r2.dev/Untitled%20design%20(15).png" class="decorate" alt="" style="width: 100vw; bottom: 0; right: 0;">
  <img src="https://pub-3ac89d8d8ece43849feac0259fe49733.r2.dev/Untitled%20design%20(17).png" class="decorate" alt="" style="width: 30vw; bottom: 0; left: 0;">
</div>

<div class="section" id="intro">
  <div class="content-fit">
    <div class="number">01</div>
    <div class="des">
      <div class="title intro-title">I want you to meet Goldie: The Amazing Honeybee Hero!</div>
      <p class="goldie-text">
        Did you know that Goldie and her bee friends are superheroes of nature? Bees visit over 2 million flowers just to make one pound of honey! That's like flying around the world twice! Goldie has five eyes - two big ones to see colors and three tiny ones on top of her head to sense light. She can see colors that humans can't, especially ultraviolet light, which helps her find the sweetest flowers. Bees like Goldie are so important that one out of every three bites of food we eat exists because of pollinators like her! Without Goldie and her friends, we wouldn't have apples, strawberries, almonds, or even chocolate! Goldie works incredibly hard too! Did you know that a single bee makes only about one-twelfth of a teaspoon of honey in her entire lifetime? That means she is visiting thousands of flowers every day. The buzzing sound you hear isn't just a noise - it's Goldie flapping her wings 200 times per second, Think about that!
      </p>
    </div>
  </div>
</div>

<div class="section" id="description">
  <div class="content-fit">
    <div class="number">02</div>
    <div class="des">
      <div class="title same-as-intro">Robo-James, you're not the only one with awesome dancing skills. Let me tell you about Goldie's Super Communication Dance!</div>
      <p class="goldie-text">
        Goldie has an incredible secret power - She can dance to talk to her friends! When Goldie finds amazing flowers full of nectar, she performs a special "wiggle dance" back at the hive to tell other bees exactly where to find them. The angle of her dance shows the direction, and how long she wiggles tells them the distance. It's like GPS, but way cooler! Bees live in a family called a colony with up to 60,000 members, and they all work together like a super team. The queen bee can live for up to 5 years and is the mother of all the bees in the hive! Worker bees like Goldie are all girls, and they do everything from nursing baby bees to guarding the hive. Male bees, called drones, have only one job - to help create new queens. Goldie and her sisters keep the hive at exactly 93 degrees Fahrenheit by fanning their wings when it's hot and clustering together when it's cold. They're like tiny, fuzzy air conditioners!
      </p>
    </div>
  </div>
  <img src="https://pub-3ac89d8d8ece43849feac0259fe49733.r2.dev/Untitled%20design%20(16).png" class="decorate" alt="" style="width: 70vw; bottom: 0; right: 0;">
</div>

<div class="section" id="contact">
  <div class="content-fit">
    <div class="number">03</div>
    <div class="des">
      <div class="title same-as-intro">AMAZING BEE FACTS</div>
      <table>
        <tr>
          <td>Super Speed</td>
          <td>Goldie flies 15 miles per hour!</td>
        </tr>
        <tr>
          <td>Flower Visits</td>
          <td>50-100 flowers per trip</td>
        </tr>
        <tr>
          <td>Lifespan</td>
          <td>Worker bees live 5-6 weeks in summer</td>
        </tr>
        <tr>
          <td>Brain Power</td>
          <td>Bees can count up to four and recognize human faces!</td>
        </tr>
      </table>
      <div class="sign">Love Bees, Save the World!</div>
    </div>
  </div>
</div>

<div id="container3D"></div>

<script type="module">
// ============================================
// IMPORTS - External libraries
// ============================================
import * as THREE from "https://cdn.skypack.dev/three@0.129.0/build/three.module.js";
import { GLTFLoader } from "https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";
import { gsap } from "https://cdn.skypack.dev/gsap"; // Animation library for smooth transitions

// ============================================
// CAMERA SETUP - Controls your view perspective
// ============================================
const camera = new THREE.PerspectiveCamera(
  80,                                    // Field of view (degrees) - EDIT: Higher = wider view
  window.innerWidth / window.innerHeight, // Aspect ratio
  0.1,                                   // Near clipping plane
  1000                                   // Far clipping plane
);
camera.position.z = 21; // EDIT: Starting camera distance (z-axis) - Higher = further away

// ============================================
// SCENE SETUP - The 3D world container
// ============================================
const scene = new THREE.Scene();
let bee;                    // Will hold the 3D bee model
let mixer;                  // Handles 3D model animations
let entranceComplete = false; // Flag to track if intro animation finished
const loader = new GLTFLoader(); // Loads 3D models in GLTF format

// ============================================
// MODEL LOADING - Loads and configures the bee
// ============================================
loader.load(
  "https://raw.githubusercontent.com/DennysDionigi/bee-glb/94253437c023643dd868592e11a0fd2c228cfe07/demon_bee_full_texture.glb",
  function (gltf) {
    bee = gltf.scene;
    
    // INITIAL POSITION - Starting point for entrance animation
    bee.position.set(1, 1, 0);    // EDIT: (x, y, z) starting position
    bee.rotation.set(0, 1, 1);  // EDIT: (x, y, z) starting rotation in radians
    bee.scale.set(0.01, 0.8, 0.8); // EDIT: (x, y, z) starting scale - smaller = smaller model
    
    scene.add(bee);

    // MODEL ANIMATION - Plays built-in bee wing/body animations
    mixer = new THREE.AnimationMixer(bee);
    mixer.clipAction(gltf.animations[0]).play();
    
    // ENTRANCE ANIMATION - Position movement
    gsap.to(bee.position, {
      x: -3,                    // EDIT: End position x
      y: -4,                    // EDIT: End position y
      z: -6,                    // EDIT: End position z
      duration: 4,             // EDIT: Animation duration in seconds
      ease: "power2.out",      // EDIT: Easing function (power2.out, linear, elastic, etc.)
      onComplete: () => {
        entranceComplete = true; // Allows scroll-based movement after intro
      }
    });
    
    // ENTRANCE ANIMATION - Rotation
    gsap.to(bee.rotation, {
      x: 1,                   // EDIT: End rotation x
      y: 1,                   // EDIT: End rotation y
      z: 2,                   // EDIT: End rotation z
      duration: 4,             // EDIT: Duration in seconds
      ease: "power2.out"
    });
    
    // ENTRANCE ANIMATION - Scale/size
    gsap.to(bee.scale, {
      x: 5,                    // EDIT: Final scale x
      y: 5,                    // EDIT: Final scale y
      z: 5,                    // EDIT: Final scale z
      duration: 4,             // EDIT: Duration in seconds
      ease: "power2.out"
    });
  },
  function (xhr) {
    console.log((xhr.loaded / xhr.total) * 100 + "% loaded"); // Loading progress
  },
  function (error) {
    console.error("Error loading model:", error); // Error handling
  }
);

// ============================================
// RENDERER SETUP - Displays the 3D scene
// ============================================
const renderer = new THREE.WebGLRenderer({ alpha: true }); // alpha: true = transparent background
renderer.setSize(window.innerWidth, window.innerHeight);
document.getElementById("container3D").appendChild(renderer.domElement);

// ============================================
// LIGHTING SETUP - Controls scene illumination
// ============================================
// AMBIENT LIGHT - Soft overall lighting from all directions
const ambientLight = new THREE.AmbientLight(
  0xffffff,  // EDIT: Light color (hex) - 0xffffff = white
  1.0        // EDIT: Light intensity - Higher = brighter
);
scene.add(ambientLight);

// DIRECTIONAL LIGHT - Strong directional light (like sunlight)
const topLight = new THREE.DirectionalLight(
  0xffffff,  // EDIT: Light color (hex)
  0.7          // EDIT: Light intensity
);
topLight.position.set(500, 500, 500); // EDIT: Light position (x, y, z)
scene.add(topLight);

// ============================================
// RENDER LOOP - Continuously updates the scene
// ============================================
const reRender3D = () => {
  requestAnimationFrame(reRender3D); // Loops at ~60fps
  renderer.render(scene, camera);     // Renders the scene
  if (mixer) mixer.update(0.02);      // EDIT: Animation speed - Higher = faster wing flaps
};
reRender3D();

// ============================================
// FLIGHT CONTROLS - Scroll-based positioning
// ============================================
// Array of positions for each section of your page
let arrPositionModel = [
  {
    id: "banner",                        // EDIT: Must match section ID in HTML
    position: { x: 0, y: -1, z: 0 },    // EDIT: Bee position for this section
    rotation: { x: 0, y: 1.5, z: 0 }    // EDIT: Bee rotation for this section
  },
  {
    id: "intro",
    position: { x: 12, y: -2, z: -4 },  // EDIT: Position (x right/left, y up/down, z forward/back)
    rotation: { x: 0.5, y: -0.5, z: 0.5 } // EDIT: Rotation in radians
  },
  {
    id: "description",
    position: { x: -12, y: -1, z: -5 },
    rotation: { x: 0, y: 0.5, z: 0.3 }
  },
  {
    id: "contact",
    position: { x: 10, y: -2, z: -2 },
    rotation: { x: 0.2, y: -0.5, z: -0.2 }
  }
];

// Function that moves bee based on scroll position
const modelMove = () => {
  if (!entranceComplete) return; // Don't move until entrance animation finishes
  
  const sections = document.querySelectorAll(".section"); // EDIT: Change ".section" to match your HTML class
  let currentSection;
  
  // Detects which section is currently in view
  sections.forEach((section) => {
    const rect = section.getBoundingClientRect();
    if (rect.top <= window.innerHeight / 3) { // EDIT: window.innerHeight / 3 = trigger point
      currentSection = section.id;
    }
  });
  
  // Finds matching position from array
  let position_active = arrPositionModel.findIndex(
    (val) => val.id == currentSection
  );
  
  // Animates bee to new position
  if (position_active >= 0) {
    let new_coordinates = arrPositionModel[position_active];
    
    // Position animation
    gsap.to(bee.position, {
      x: new_coordinates.position.x,
      y: new_coordinates.position.y,
      z: new_coordinates.position.z,
      duration: 3,              // EDIT: Scroll transition duration
      ease: "power1.out"        // EDIT: Easing function
    });
    
    // Rotation animation
    gsap.to(bee.rotation, {
      x: new_coordinates.rotation.x,
      y: new_coordinates.rotation.y,
      z: new_coordinates.rotation.z,
      duration: 3,              // EDIT: Scroll transition duration
      ease: "power1.out"
    });
  }
};

// ============================================
// EVENT LISTENERS - Responds to user actions
// ============================================
// Triggers bee movement on scroll
window.addEventListener("scroll", () => {
  if (bee) {
    modelMove();
  }
});

// Handles window resizing
window.addEventListener("resize", () => {
  renderer.setSize(window.innerWidth, window.innerHeight);
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
});
</script>

</body>
</html>);
camera.position.z = 21; // EDIT: Starting camera distance (z-axis) - Higher = further away

// ============================================
// SCENE SETUP - The 3D world container
// ============================================
const scene = new THREE.Scene();
let bee;                    // Will hold the 3D bee model
let mixer;                  // Handles 3D model animations
let entranceComplete = false; // Flag to track if intro animation finished
const loader = new GLTFLoader(); // Loads 3D models in GLTF format

// ============================================
// MODEL LOADING - Loads and configures the bee
// ============================================
loader.load(
  "https://raw.githubusercontent.com/DennysDionigi/bee-glb/94253437c023643dd868592e11a0fd2c228cfe07/demon_bee_full_texture.glb",
  function (gltf) {
    bee = gltf.scene;
    
    // INITIAL POSITION - Starting point for entrance animation
    bee.position.set(1, 1, 0);    // EDIT: (x, y, z) starting position
    bee.rotation.set(0, 1, 1);  // EDIT: (x, y, z) starting rotation in radians
    bee.scale.set(0.01, 0.8, 0.8); // EDIT: (x, y, z) starting scale - smaller = smaller model
    
    scene.add(bee);

    // MODEL ANIMATION - Plays built-in bee wing/body animations
    mixer = new THREE.AnimationMixer(bee);
    mixer.clipAction(gltf.animations[0]).play();
    
    // ENTRANCE ANIMATION - Position movement
    gsap.to(bee.position, {
      x: -3,                    // EDIT: End position x
      y: -4,                    // EDIT: End position y
      z: -6,                    // EDIT: End position z
      duration: 4,             // EDIT: Animation duration in seconds
      ease: "power2.out",      // EDIT: Easing function (power2.out, linear, elastic, etc.)
      onComplete: () => {
        entranceComplete = true; // Allows scroll-based movement after intro
      }
    });
    
    // ENTRANCE ANIMATION - Rotation
    gsap.to(bee.rotation, {
      x: 1,                   // EDIT: End rotation x
      y: 1,                   // EDIT: End rotation y
      z: 2,                   // EDIT: End rotation z
      duration: 4,             // EDIT: Duration in seconds
      ease: "power2.out"
    });
    
    // ENTRANCE ANIMATION - Scale/size
    gsap.to(bee.scale, {
      x: 5,                    // EDIT: Final scale x
      y: 5,                    // EDIT: Final scale y
      z: 5,                    // EDIT: Final scale z
      duration: 4,             // EDIT: Duration in seconds
      ease: "power2.out"
    });
  },
  function (xhr) {
    console.log((xhr.loaded / xhr.total) * 100 + "% loaded"); // Loading progress
  },
  function (error) {
    console.error("Error loading model:", error); // Error handling
  }
);

// ============================================
// RENDERER SETUP - Displays the 3D scene
// ============================================
const renderer = new THREE.WebGLRenderer({ alpha: true }); // alpha: true = transparent background
renderer.setSize(window.innerWidth, window.innerHeight);
document.getElementById("container3D").appendChild(renderer.domElement);

// ============================================
// LIGHTING SETUP - Controls scene illumination
// ============================================
// AMBIENT LIGHT - Soft overall lighting from all directions
const ambientLight = new THREE.AmbientLight(
  0xffffff,  // EDIT: Light color (hex) - 0xffffff = white
  1.0        // EDIT: Light intensity - Higher = brighter
);
scene.add(ambientLight);

// DIRECTIONAL LIGHT - Strong directional light (like sunlight)
const topLight = new THREE.DirectionalLight(
  0xffffff,  // EDIT: Light color (hex)
  0.7          // EDIT: Light intensity
);
topLight.position.set(500, 500, 500); // EDIT: Light position (x, y, z)
scene.add(topLight);

// ============================================
// RENDER LOOP - Continuously updates the scene
// ============================================
const reRender3D = () => {
  requestAnimationFrame(reRender3D); // Loops at ~60fps
  renderer.render(scene, camera);     // Renders the scene
  if (mixer) mixer.update(0.02);      // EDIT: Animation speed - Higher = faster wing flaps
};
reRender3D();

// ============================================
// FLIGHT CONTROLS - Scroll-based positioning
// ============================================
// Array of positions for each section of your page
let arrPositionModel = [
  {
    id: "banner",                        // EDIT: Must match section ID in HTML
    position: { x: 0, y: -1, z: 0 },    // EDIT: Bee position for this section
    rotation: { x: 0, y: 1.5, z: 0 }    // EDIT: Bee rotation for this section
  },
  {
    id: "intro",
    position: { x: 12, y: -2, z: -4 },  // EDIT: Position (x right/left, y up/down, z forward/back)
    rotation: { x: 0.5, y: -0.5, z: 0.5 } // EDIT: Rotation in radians
  },
  {
    id: "description",
    position: { x: -12, y: -1, z: -5 },
    rotation: { x: 0, y: 0.5, z: 0.3 }
  },
  {
    id: "contact",
    position: { x: 10, y: -2, z: -2 },
    rotation: { x: 0.2, y: -0.5, z: -0.2 }
  }
];

// Function that moves bee based on scroll position
const modelMove = () => {
  if (!entranceComplete) return; // Don't move until entrance animation finishes
  
  const sections = document.querySelectorAll(".section"); // EDIT: Change ".section" to match your HTML class
  let currentSection;
  
  // Detects which section is currently in view
  sections.forEach((section) => {
    const rect = section.getBoundingClientRect();
    if (rect.top <= window.innerHeight / 3) { // EDIT: window.innerHeight / 3 = trigger point
      currentSection = section.id;
    }
  });
  
  // Finds matching position from array
  let position_active = arrPositionModel.findIndex(
    (val) => val.id == currentSection
  );
  
  // Animates bee to new position
  if (position_active >= 0) {
    let new_coordinates = arrPositionModel[position_active];
    
    // Position animation
    gsap.to(bee.position, {
      x: new_coordinates.position.x,
      y: new_coordinates.position.y,
      z: new_coordinates.position.z,
      duration: 3,              // EDIT: Scroll transition duration
      ease: "power1.out"        // EDIT: Easing function
    });
    
    // Rotation animation
    gsap.to(bee.rotation, {
      x: new_coordinates.rotation.x,
      y: new_coordinates.rotation.y,
      z: new_coordinates.rotation.z,
      duration: 3,              // EDIT: Scroll transition duration
      ease: "power1.out"
    });
  }
};

// ============================================
// EVENT LISTENERS - Responds to user actions
// ============================================
// Triggers bee movement on scroll
window.addEventListener("scroll", () => {
  if (bee) {
    modelMove();
  }
});

// Handles window resizing
window.addEventListener("resize", () => {
  renderer.setSize(window.innerWidth, window.innerHeight);
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
});
</script>

</body>
</html>
