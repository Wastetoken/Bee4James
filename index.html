<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Goldie The Bee</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="content-fit">
    <div class="logo">GOLDIE THE BEE</div>
    <nav>
      <ul>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </nav>
  </div>
</header>

<div class="section" id="banner">
  <div class="content-fit">
    <div class="title hero-text" data-before="">hey JaMes!</div>
  </div>
  <img src="https://pub-3ac89d8d8ece43849feac0259fe49733.r2.dev/Untitled%20design%20(15).png" class="decorate" alt="" style="width: 100vw; bottom: 0; right: 0;">
  <img src="https://pub-3ac89d8d8ece43849feac0259fe49733.r2.dev/Untitled%20design%20(17).png" class="decorate" alt="" style="width: 30vw; bottom: 0; left: 0;">
</div>

<div class="section" id="intro">
  <div class="content-fit">
    <div class="number">01</div>
    <div class="des">
      <div class="title intro-title">I want you to meet Goldie: The Amazing Honeybee Hero!</div>
      <p class="goldie-text">
        Did you know that Goldie and her bee friends are superheroes of nature? Bees visit over 2 million flowers just to make one pound of honey! That's like flying around the world twice! Goldie has five eyes - two big ones to see colors and three tiny ones on top of her head to sense light. She can see colors that humans can't, especially ultraviolet light, which helps her find the sweetest flowers. Bees like Goldie are so important that one out of every three bites of food we eat exists because of pollinators like her! Without Goldie and her friends, we wouldn't have apples, strawberries, almonds, or even chocolate! Goldie works incredibly hard too! Did you know that a single bee makes only about one-twelfth of a teaspoon of honey in her entire lifetime? That means she is visiting thousands of flowers every day. The buzzing sound you hear isn't just a noise - it's Goldie flapping her wings 200 times per second, Think about that!
      </p>
    </div>
  </div>
</div>

<div class="section" id="description">
  <div class="content-fit">
    <div class="number">02</div>
    <div class="des">
      <div class="title same-as-intro">Robo-James, you're not the only one with awesome dancing skills. Let me tell you about Goldie's Super Communication Dance!</div>
      <p class="goldie-text">
        Goldie has an incredible secret power - She can dance to talk to her friends! When Goldie finds amazing flowers full of nectar, she performs a special "wiggle dance" back at the hive to tell other bees exactly where to find them. The angle of her dance shows the direction, and how long she wiggles tells them the distance. It's like GPS, but way cooler! Bees live in a family called a colony with up to 60,000 members, and they all work together like a super team. The queen bee can live for up to 5 years and is the mother of all the bees in the hive! Worker bees like Goldie are all girls, and they do everything from nursing baby bees to guarding the hive. Male bees, called drones, have only one job - to help create new queens. Goldie and her sisters keep the hive at exactly 93 degrees Fahrenheit by fanning their wings when it's hot and clustering together when it's cold. They're like tiny, fuzzy air conditioners!
      </p>
    </div>
  </div>
  <img src="https://pub-3ac89d8d8ece43849feac0259fe49733.r2.dev/Untitled%20design%20(16).png" class="decorate" alt="" style="width: 70vw; bottom: 0; right: 0;">
</div>

<div class="section" id="contact">
  <div class="content-fit">
    <div class="number">03</div>
    <div class="des">
      <div class="title same-as-intro">AMAZING BEE FACTS</div>
      <table>
        <tr>
          <td>Super Speed</td>
          <td>Goldie flies 15 miles per hour!</td>
        </tr>
        <tr>
          <td>Flower Visits</td>
          <td>50-100 flowers per trip</td>
        </tr>
        <tr>
          <td>Lifespan</td>
          <td>Worker bees live 5-6 weeks in summer</td>
        </tr>
        <tr>
          <td>Brain Power</td>
          <td>Bees can count up to four and recognize human faces!</td>
        </tr>
      </table>
      <div class="sign">Love Bees, Save the World!</div>
    </div>
  </div>
</div>

<div id="container3D"></div>

<script type="module">
import * as THREE from "https://cdn.skypack.dev/three@0.129.0/build/three.module.js";
import { GLTFLoader } from "https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";
import { gsap } from "https://cdn.skypack.dev/gsap";

const camera = new THREE.PerspectiveCamera(
  100,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.z = 24;

const scene = new THREE.Scene();
let bee;
let mixer;
let entranceComplete = false;
const loader = new GLTFLoader();

loader.load(
  "https://raw.githubusercontent.com/DennysDionigi/bee-glb/94253437c023643dd868592e11a0fd2c228cfe07/demon_bee_full_texture.glb",
  function (gltf) {
    bee = gltf.scene;
    
    bee.position.set(1, 1, 0);
    bee.rotation.set(0, 11, 10);
    bee.scale.set(0.01, 0.8, 0.8);
    
    scene.add(bee);

    mixer = new THREE.AnimationMixer(bee);
    mixer.clipAction(gltf.animations[0]).play();
    
    gsap.to(bee.position, {
      x: 3,
      y: 4,
      z: 6,
      duration: 4,
      ease: "power2.out",
      onComplete: () => {
        entranceComplete = true;
      }
    });
    
    gsap.to(bee.rotation, {
      x: -3,
      y: -3,
      z: -3,
      duration: 4,
      ease: "power2.out"
    });
    
    gsap.to(bee.scale, {
      x: 8,
      y: 8,
      z: 8,
      duration: 4,
      ease: "power2.out"
    });
  },
  function (xhr) {
    console.log((xhr.loaded / xhr.total) * 100 + "% loaded");
  },
  function (error) {
    console.error("Error loading model:", error);
  }
);

const renderer = new THREE.WebGLRenderer({ alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.getElementById("container3D").appendChild(renderer.domElement);

const ambientLight = new THREE.AmbientLight(0xffffff, 1.3);
scene.add(ambientLight);

const topLight = new THREE.DirectionalLight(0xffffff, 1);
topLight.position.set(500, 500, 500);
scene.add(topLight);

const reRender3D = () => {
  requestAnimationFrame(reRender3D);
  renderer.render(scene, camera);
  if (mixer) mixer.update(0.02);
};
reRender3D();

let arrPositionModel = [
  {
    id: "banner",
    position: { x: 0, y: -1, z: 0 },
    rotation: { x: 0, y: 1.5, z: 0 }
  },
  {
    id: "intro",
    position: { x: 5, y: -1, z: -5 },
    rotation: { x: 0.5, y: -0.5, z: 0.5 }
  },
  {
    id: "description",
    position: { x: -5, y: -1, z: -5 },
    rotation: { x: 0, y: 0.5, z: 0.2 }
  },
  {
    id: "contact",
    position: { x: 4, y: -2, z: -10 },
    rotation: { x: 0.2, y: -0.5, z: -0.2 }
  }
];

const modelMove = () => {
  if (!entranceComplete) return;
  
  const sections = document.querySelectorAll(".section");
  let currentSection;
  sections.forEach((section) => {
    const rect = section.getBoundingClientRect();
    if (rect.top <= window.innerHeight / 3) {
      currentSection = section.id;
    }
  });
  let position_active = arrPositionModel.findIndex(
    (val) => val.id == currentSection
  );
  if (position_active >= 0) {
    let new_coordinates = arrPositionModel[position_active];
    gsap.to(bee.position, {
      x: new_coordinates.position.x,
      y: new_coordinates.position.y,
      z: new_coordinates.position.z,
      duration: 3,
      ease: "power1.out"
    });
    gsap.to(bee.rotation, {
      x: new_coordinates.rotation.x,
      y: new_coordinates.rotation.y,
      z: new_coordinates.rotation.z,
      duration: 3,
      ease: "power1.out"
    });
  }
};

window.addEventListener("scroll", () => {
  if (bee) {
    modelMove();
  }
});

window.addEventListener("resize", () => {
  renderer.setSize(window.innerWidth, window.innerHeight);
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
});
</script>

</body>
</html>
